export const messages = {
    uz: {
        welcome: 'Xush kelibsiz! Keling, ro\'yxatdan o\'tishni boshlaylik. To\'liq ismingiz nima?',
        nameShort: 'Ism juda qisqa.',
        askAge: 'Ajoyib. Yoshingiz nechada?',
        ageInvalid: 'Iltimos, to\'g\'ri yoshni kiriting (16 yoshdan katta bo\'lishi kerak).',
        askGender: 'Jinsingiz?',
        male: 'Erkak',
        female: 'Ayol',
        genderInvalid: 'Iltimos, Erkak yoki Ayol tugmasini tanlang.',
        askCity: 'Shaharingizni tanlang:',
        cityNotFound: 'Shahar topilmadi. Qaytadan urinib ko\'ring.',
        citySelected: 'Shahar: {city}\n\nIltimos, 2-5 ta foto yuboring. Tugagach "Tayyor" tugmasini bosing.',
        done: 'Tayyor',
        citySelectFromList: 'Iltimos, yuqoridagi ro\'yxatdan shahringizni tanlang.',
        photosMin: 'Kamida 2 ta foto kerak. Sizda {count} ta bor.',
        photosSaved: 'Fotolar saqlandi. Iltimos, telefon raqamingizni yuboring.',
        sendContact: 'Kontaktni yuborish',
        photosMax: 'Maksimal 5 ta fotoga ruxsat berilgan. Davom etish uchun "Tayyor" tugmasini bosing.',
        photoReceived: 'Foto qabul qilindi ({count}/5). Yana yuboring yoki "Tayyor" tugmasini bosing.',
        sendPhotoOrDone: 'Iltimos, foto yuboring yoki "Tayyor" tugmasini bosing.',
        providePhone: 'Iltimos, telefon raqamingizni yuboring.',
        askPrice: 'Bir video uchun narxingiz qancha (USD)?',
        priceInvalid: 'Iltimos, to\'g\'ri raqam kiriting.',
        askSocials: 'Ijtimoiy tarmoqlar havolalarini yuboring (Instagram, TikTok va h.k.) yoki "O\'tkazib yuborish" deb yozing.',
        skip: 'O\'tkazib yuborish',
        somethingWrong: 'Nimadir xato ketdi. Iltimos, /start bilan qaytadan boshlang.',
        confirmRequest: 'Iltimos, ma\'lumotlaringizni tasdiqlang:\n\n{summary}',
        confirm: 'Tasdiqlash',
        restart: 'Qaytadan boshlash',
        missingData: 'Ma\'lumotlar yetishmayapti. Iltimos, qaytadan boshlang.',
        registrationComplete: 'Ro\'yxatdan o\'tish tugallandi! Arizalar admin tomonidan ko\'rib chiqiladi.',
        errorSaving: 'Ma\'lumotlarni saqlashda xatolik. Iltimos, qaytadan urinib ko\'ring.',
        selectConfirmOrRestart: 'Iltimos, Tasdiqlash yoki Qaytadan boshlash tugmasini tanlang.',
        summary: 'Ism: {fullName}\nYosh: {age}\nJins: {gender}\nShahar: {city}\nTelefon: {phone}\nNarx: {price}\nIjtimoiy tarmoqlar: {socials}'
    },
    ru: {
        welcome: 'Добро пожаловать! Давайте начнем регистрацию. Как вас зовут?',
        nameShort: 'Имя слишком короткое.',
        askAge: 'Отлично. Сколько вам лет?',
        ageInvalid: 'Пожалуйста, введите корректный возраст (должен быть больше 16).',
        askGender: 'Ваш пол?',
        male: 'Мужской',
        female: 'Женский',
        genderInvalid: 'Пожалуйста, выберите кнопку Мужской или Женский.',
        askCity: 'Выберите ваш город:',
        cityNotFound: 'Город не найден. Попробуйте снова.',
        citySelected: 'Город: {city}\n\nПожалуйста, отправьте 2-5 фотографий. Нажмите "Готово" когда закончите.',
        done: 'Готово',
        citySelectFromList: 'Пожалуйста, выберите город из списка выше.',
        photosMin: 'Нужно минимум 2 фотографии. У вас {count}.',
        photosSaved: 'Фотографии сохранены. Пожалуйста, поделитесь своим номером телефона.',
        sendContact: 'Отправить контакт',
        photosMax: 'Максимум 5 фотографий. Нажмите "Готово" чтобы продолжить.',
        photoReceived: 'Фото получено ({count}/5). Отправьте еще или нажмите "Готово".',
        sendPhotoOrDone: 'Пожалуйста, отправьте фото или нажмите "Готово".',
        providePhone: 'Пожалуйста, укажите номер телефона.',
        askPrice: 'Какова ваша цена за видео (USD)?',
        priceInvalid: 'Пожалуйста, введите корректное число.',
        askSocials: 'Поделитесь ссылками на соцсети (Instagram, TikTok и т.д.) или напишите "Пропустить".',
        skip: 'Пропустить',
        somethingWrong: 'Что-то пошло не так. Пожалуйста, начните заново с /start.',
        confirmRequest: 'Пожалуйста, подтвердите ваши данные:\n\n{summary}',
        confirm: 'Подтвердить',
        restart: 'Начать заново',
        missingData: 'Недостаточно данных. Пожалуйста, начните заново.',
        registrationComplete: 'Регистрация завершена! Заявки рассматриваются администратором.',
        errorSaving: 'Ошибка сохранения данных. Пожалуйста, попробуйте снова.',
        selectConfirmOrRestart: 'Пожалуйста, выберите Подтвердить или Начать заново.',
        summary: 'Имя: {fullName}\nВозраст: {age}\nПол: {gender}\nГород: {city}\nТелефон: {phone}\nЦена: {price}\nСоцсети: {socials}'
    },
    en: {
        welcome: 'Welcome! Let\'s start your registration. What is your full name?',
        nameShort: 'Name is too short.',
        askAge: 'Great. How old are you?',
        ageInvalid: 'Please enter a valid age (must be > 16).',
        askGender: 'What is your gender?',
        male: 'Male',
        female: 'Female',
        genderInvalid: 'Please select Male or Female button.',
        askCity: 'Select your city:',
        cityNotFound: 'City not found. Please try again.',
        citySelected: 'City: {city}\n\nPlease send 2-5 photos. Click "Done" when finished.',
        done: 'Done',
        citySelectFromList: 'Please select a city from the list above.',
        photosMin: 'You need at least 2 photos. You have {count}.',
        photosSaved: 'Photos saved. Please share your phone number.',
        sendContact: 'Send Contact',
        photosMax: 'Maximum 5 photos allowed. Click "Done" to proceed.',
        photoReceived: 'Photo received ({count}/5). Send more or click "Done".',
        sendPhotoOrDone: 'Please send a photo or click "Done".',
        providePhone: 'Please provide a phone number.',
        askPrice: 'What is your price per video (USD)?',
        priceInvalid: 'Please enter a valid number.',
        askSocials: 'Share your social links (Instagram, TikTok, etc.) or type "Skip".',
        skip: 'Skip',
        somethingWrong: 'Something went wrong. Please restart with /start.',
        confirmRequest: 'Please confirm your details:\n\n{summary}',
        confirm: 'Confirm',
        restart: 'Restart',
        missingData: 'Missing data. Please restart.',
        registrationComplete: 'Registration complete! Applications are reviewed by admin.',
        errorSaving: 'Error saving data. Please try again.',
        selectConfirmOrRestart: 'Please select Confirm or Restart.',
        summary: 'Name: {fullName}\nAge: {age}\nGender: {gender}\nCity: {city}\nPhone: {phone}\nPrice: {price}\nSocials: {socials}'
    }
};

export function t(lang: 'uz' | 'ru' | 'en', key: string, params?: Record<string, any>): string {
    const keys = key.split('.');
    let value: any = messages[lang];
    
    for (const k of keys) {
        value = value?.[k];
    }
    
    if (typeof value !== 'string') {
        return key;
    }
    
    if (params) {
        return value.replace(/\{(\w+)\}/g, (_, k) => params[k] ?? '');
    }
    
    return value;
}
